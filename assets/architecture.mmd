graph TB

%% ================= EXPERIENCE =================
subgraph "ğŸ›ï¸ Experience Layer (PM Workspace)"
UI["ğŸ‘©â€ğŸ’¼ PM Workspace<br/>ğŸ“¤ Upload Backlog<br/>ğŸ’¬ Ask Questions (Before Reports)<br/>âš¡ One-click Reports<br/>ğŸ§  Ask Follow-ups (After Reports)"]
end

%% ================= UNDERSTANDING =================
subgraph "ğŸ§¾ Understanding Layer (Backlog â†’ Context)"
U1["ğŸ“¥ Backlog Intake<br/>Raw CSV Backlog"]
U2["ğŸ§¹ Backlog Context Builder<br/>Backlog â†’ readable context"]
U3["ğŸ“… Sprint Calendar Automation<br/>Auto 2-week window<br/>Working days list"]
end

%% ================= INTELLIGENCE =================
subgraph "ğŸ§  Intelligence Layer (Sprint Intelligence)"
I1["ğŸ’¬ Backlog Q&A<br/>Questions on raw backlog<br/>Before planning"]
I2["âœ… Auto Sprint Plan<br/>2-week plan with assignments"]
I3["âš ï¸ Risk Intelligence<br/>Blockers, overload, gaps"]
I4["ğŸ“Œ Executive Summary<br/>Client-ready summary<br/>Next actions"]
end

%% ================= CONTINUITY =================
subgraph "ğŸ’¾ Continuity Layer (Chained Workflow)"
C1["ğŸ§  Saved Sprint Context<br/>Sprint Plan stored<br/>Reused automatically"]
C2["ğŸ” Follow-up Decisions<br/>Questions on generated outputs"]
end

%% ================= DECISION ENGINE =================
subgraph "ğŸš€ Decision Engine Layer"
LLM["ğŸ¤– LLM Reasoning Engine<br/>Generates answers and reports"]
end

%% ===== Flow (clean + automatic) =====
UI --> U1 --> U2 --> U3

%% Before-report questions
U3 --> I1 --> LLM --> UI

%% Auto reports (one-click)
U3 --> I2 --> LLM --> UI
I2 --> C1
C1 --> I3 --> LLM --> UI
C1 --> I4 --> LLM --> UI

%% After-report follow-ups (automatic reuse)
UI --> C2 --> C1 --> LLM --> UI

%% ===== Colors =====
classDef exp fill:#dbeafe,stroke:#1e40af,stroke-width:3px,color:#000;
classDef understand fill:#dcfce7,stroke:#166534,stroke-width:3px,color:#000;
classDef intel fill:#fef3c7,stroke:#92400e,stroke-width:3px,color:#000;
classDef cont fill:#fce7f3,stroke:#9d174d,stroke-width:3px,color:#000;
classDef llm fill:#fff7ed,stroke:#c2410c,stroke-width:3px,color:#000;

class UI exp;
class U1,U2,U3 understand;
class I1,I2,I3,I4 intel;
class C1,C2 cont;
class LLM llm;

